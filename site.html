<?php
    setcookie("theme", "light", time() + (86400 * 30), "/")
?>

<html>
    <head>
        <title>Le site de SNT</title>
        <link href="style.css" rel=stylesheet>
        <link href=icon.png rel=icon>
    </head>
    <body>
        <?php
            if(!isset($_COOKIE["theme"])) {
              echo "Cookie named '" . "theme" . "' is not set!";
            } else {
              echo "Cookie '" . "theme" . "' is set!<br>";
              echo "Value is: " . $_COOKIE["theme"];
            }
        ?>

        <div class=navbar>
            <img src=icon_rect.png>
            <ul>
                <li><a class=active href=#txt>thing 1</a></li>
                <li><a href=#link>thing 2</a></li>
                <li><a href=#link>thing 3</a></li>
                <li><a href=#link>thing 4</a></li>
                <li><a href=settings.html>param√®tres</a></li>
            </ul>
        </div>
        <div class="content color">
            <p>Some text</p>
            <p id=txt>Some text 2</p>
        </div>
        <div class="themepopup color">
            <button class=close onclick="close_popup()">x</button>
            <h3>Quel mode de couleur souhaitez vous utiliser ?</h3>
            <button id=dark class=theme onclick="darktheme()">Mode sombre</button><button id=light class=theme onclick="lighttheme()">Mode clair</button>
        </div>
        <script>
            function darktheme(){
                document.cookie = "theme=dark";
                console.log(document.cookie);
                const dark = document.getElementById("dark").style;
                dark.boxShadow = "5px 5px 5px #232323";
                dark.borderColor = "white";
                const light = document.getElementById("light").style;
                light.boxShadow = "5px 5px 5px #232323";
                light.borderColor = "white";
                const content = document.getElementsByClassName("color");
                for (let i = 0; i < content.length; i++){
                    let modif = content[i].style
                    modif.backgroundColor = "#36393f";
                    modif.color = "white";
                    modif.boxShadow = "10px 10px 8px #232323";
                    modif.borderColor = "white";
                }
            }

            function lighttheme(){
                const dark = document.getElementById("dark").style;
                dark.boxShadow = "5px 5px 5px dimgray";
                dark.borderColor = "black";
                const light = document.getElementById("light").style;
                light.boxShadow = "5px 5px 5px dimgray";
                light.borderColor = "black";
                const content = document.getElementsByClassName("color");
                for (let i = 0; i < content.length; i++){
                    let modif = content[i].style
                    modif.backgroundColor = "#F5F5DC";
                    modif.color = "black";
                    modif.boxShadow = "10px 10px 8px dimgray";
                    modif.borderColor = "black";
                }
            }

            function close_popup(){
                document.getElementsByClassName("themepopup")[0].style.display = "none";
            }
        </script>
    </body>
</html>
